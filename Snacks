<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Snack Smart Pro</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{
    font-family: Arial, sans-serif;
    text-align:center;
    margin:0;
    padding:20px;
    background: linear-gradient(#a8e6ff,#ffffff);
}

h1{margin-top:10px;}

#characterContainer{
    margin:20px auto;
    width:150px;
    transition:0.3s;
}

.head{
    width:100px;
    height:100px;
    background:#ffdbac;
    border-radius:50%;
    margin:auto;
    position:relative;
    transition:0.3s;
}

.eye{
    width:10px;
    height:10px;
    background:black;
    border-radius:50%;
    position:absolute;
    top:35px;
}

.eye.left{ left:25px;}
.eye.right{ right:25px;}

.mouth{
    width:40px;
    height:20px;
    border-bottom:3px solid black;
    border-radius:0 0 40px 40px;
    position:absolute;
    bottom:25px;
    left:30px;
    transition:0.3s;
}

#healthBarContainer{
    width:80%;
    max-width:400px;
    height:25px;
    border:2px solid #333;
    margin:10px auto;
}

#healthBar{
    height:100%;
    width:50%;
    background:green;
    transition:0.3s;
}

button{
    padding:15px;
    margin:10px;
    font-size:16px;
    border-radius:8px;
    border:none;
    cursor:pointer;
}

.healthy{ background:#4CAF50; color:white;}
.unhealthy{ background:#e74c3c; color:white;}

#factBox{
    margin-top:15px;
    font-weight:bold;
    min-height:40px;
}

#startScreen button{
    padding:15px 40px;
    font-size:18px;
}
</style>
</head>
<body>

<h1>Snack Smart Pro</h1>

<div id="startScreen">
<h2>Choose Your Character</h2>
<button onclick="startGame('boy')">Boy</button>
<button onclick="startGame('girl')">Girl</button>
</div>

<div id="gameScreen" style="display:none;">
<div id="characterContainer">
    <div class="head">
        <div class="eye left"></div>
        <div class="eye right"></div>
        <div class="mouth"></div>
    </div>
</div>

<div id="healthBarContainer">
    <div id="healthBar"></div>
</div>

<div id="roundInfo"></div>
<div id="scoreInfo"></div>

<div>
<button id="option1"></button>
<button id="option2"></button>
</div>

<div id="factBox"></div>
</div>

<div id="endScreen" style="display:none;">
<h2 id="finalMessage"></h2>
<button onclick="location.reload()">Play Again</button>
</div>

<script>

const healthySnacks = [
"Apple Slices","Carrot Sticks","Celery & Peanut Butter","Greek Yogurt","Banana",
"Blueberries","Strawberries","Almonds","Trail Mix","Oatmeal",
"Hard-Boiled Egg","Orange Slices","Peanut Butter Toast","Avocado Toast",
"Cucumber Slices","Cheese Cubes","Protein Smoothie","Hummus & Veggies",
"Granola Bar","Watermelon"
];

const unhealthySnacks = [
"Donut","Soda","Cake","Candy Bar","Potato Chips",
"Ice Cream","Cupcake","Chocolate Bar","Pizza Slice","French Fries",
"Milkshake","Cookies","Hot Dog","Nachos","Sugary Cereal",
"Energy Drink","Fried Chicken","Buttered Popcorn","Cheeseburger","Brownie"
];

let round=1;
let totalRounds=10;
let healthScore=0;

function startGame(type){
document.getElementById("startScreen").style.display="none";
document.getElementById("gameScreen").style.display="block";
nextRound();
}

function nextRound(){
if(round>totalRounds){ endGame(); return;}

document.getElementById("roundInfo").innerText="Round "+round+" of "+totalRounds;
document.getElementById("scoreInfo").innerText="Score: "+healthScore;

let healthy=healthySnacks[Math.floor(Math.random()*healthySnacks.length)];
let unhealthy=unhealthySnacks[Math.floor(Math.random()*unhealthySnacks.length)];

let options=[
{name:healthy,type:"healthy"},
{name:unhealthy,type:"unhealthy"}
];

options.sort(()=>Math.random()-0.5);

let btn1=document.getElementById("option1");
let btn2=document.getElementById("option2");

btn1.innerText=options[0].name;
btn1.className=options[0].type;
btn1.onclick=()=>choose(options[0]);

btn2.innerText=options[1].name;
btn2.className=options[1].type;
btn2.onclick=()=>choose(options[1]);
}

function choose(option){
if(option.type==="healthy"){
healthScore++;
playSound(true);
showFact("Great choice! This snack fuels your body with vitamins and nutrients.");
}else{
healthScore--;
playSound(false);
showFact("Too much of this can reduce energy and hurt long-term health.");
}
round++;
updateCharacter();
setTimeout(nextRound,1500);
}

function updateCharacter(){
let mouth=document.querySelector(".mouth");
let healthPercent=50+(healthScore*5);
healthPercent=Math.max(0,Math.min(100,healthPercent));

document.getElementById("healthBar").style.width=healthPercent+"%";

if(healthPercent>60){
mouth.style.borderBottom="3px solid green";
mouth.style.borderRadius="0 0 40px 40px";
document.getElementById("characterContainer").style.transform="scale(1.1)";
}
else if(healthPercent<40){
mouth.style.borderBottom="3px solid red";
mouth.style.borderRadius="40px 40px 0 0";
document.getElementById("characterContainer").style.transform="scale(0.9)";
}
else{
mouth.style.borderBottom="3px solid black";
mouth.style.borderRadius="0 0 40px 40px";
document.getElementById("characterContainer").style.transform="scale(1)";
}
}

function showFact(text){
document.getElementById("factBox").innerText=text;
}

function playSound(isHealthy){
let ctx=new (window.AudioContext||window.webkitAudioContext)();
let osc=ctx.createOscillator();
osc.type="sine";
osc.frequency.value=isHealthy?600:200;
osc.connect(ctx.destination);
osc.start();
setTimeout(()=>osc.stop(),150);
}

function endGame(){
document.getElementById("gameScreen").style.display="none";
document.getElementById("endScreen").style.display="block";

let msg="";
if(healthScore>0){
msg="Fantastic! Your character feels strong, energized, and healthy!";
}
else if(healthScore<0){
msg="Too many unhealthy snacks! Try again for better health!";
}
else{
msg="Balanced choices! Keep learning about healthy eating!";
}

document.getElementById("finalMessage").innerText=msg;
}

</script>
</body>
</html>
